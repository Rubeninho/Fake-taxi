<html>
  <head>
    <link rel="stylesheet" href="maps.css" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""
    />
    <script
      src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""
    ></script>
  </head>
    <div id="map"></div>
  </body>
  <script>
    var map = L.map("map").setView([50.074, 14.436], 13);

L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
  attribution:
    '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
}).addTo(map);

lat = 50.074;
lng = 14.436;
var selectedLatLng = 0;
var marker = -1;

function proceedFunc(e) {
  console.log(selectedLatLng);
}

function onMapClick(e) {
  if (marker == -1) {
    let btn = document.createElement("button");
    let link = document.createElement("a");
    link.innerHTML = "Click me";
    link.setAttribute("href", "./ahoj.html");
    btn.appendChild(link);
    btn.onclick = proceedFunc;
    marker = L.marker([lat, lng]).addTo(map).bindPopup(btn);
  }
  marker.setLatLng(e.latlng);
  console.log(e.latlng);
  marker.openPopup();
  selectedLatLng = e.latlng;
}

map.on("click", onMapClick);

  </script>
</html>
